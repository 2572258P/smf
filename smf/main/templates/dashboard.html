{% extends "base_frame.html" %}
{% load main_extras %}
{% block body_block %}
<h1>Dashboard</h1>
<p>Fill out texts below to calculate similarities</p>
<form action="{% url 'main:dashboard' %}" method="post">
    {% csrf_token %}
    <p><label for="html">Q) Sentence1: (Enter any sentences below)</label></p>
    <p><textarea name="sen1" id="sen1" rows="2" cols="50"></textarea></p>
    <p><label for="html">Q) Sentence2: (Enter any sentences below)</label></p>
    <p><textarea name="sen2" id="sen2" rows="2" cols="50"></textarea></p>    
    <input type="submit" name="compare" value="Compare">
</form>
{{compare_result}}
<hr>

{% if questions %}
    <p><b>Questions: {{questions.count}}</b></p>
    <ul>
        {% for q in questions %}        
        <li>{{q.question_text}}</li>
        {% endfor %}
    </ul>
{% else %}
    <p>No questions are available</p>
{% endif %}

{% if users %}
    <p><b>Users: {{users_len}}</b></p>
    <ul>
        {% for u in users %}        
        <li>{{u.username}}</li>
        {% endfor %}
    </ul>
{% else %}
    <p>No users are available</p>
{% endif %}

{% if answers %}
    <p><b>Answers: {{answers.count}}</b></p>
    {% for a in answers %}
    {{a.profile.user.username}} / Q) {{questions|first_in_queryset:a.question_id}} / 
    A)
    {% if a.choice_id != -1 %}        
        {{choices|first_in_queryset:a.choice_id}}
    {% else %}
        {{a.answer_text}}
    {% endif %}    
    <br>
    {% endfor %}
{% else %}
    <p>No answers are available</p>
{% endif %}
{% endblock %}